@model Funeral.App.ViewModels.EmailInputModel

@{
    ViewData["Title"] = "Контакт с нас:";
}

<script src="https://www.google.com/recaptcha/api.js"></script>

<h3>@ViewData["Title"]</h3>
<hr />

<form id="contactForm" method="post" asp-action="SendFromGmail">
    <div class="form-group">
        <label asp-for="Subject"></label>
        <input asp-for="Subject" class="form-control" />
        <span asp-validation-for="Subject" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Message"></label>
        <textarea asp-for="Message" class="form-control" rows="15"></textarea>
        <span asp-validation-for="Message" class="text-danger"></span>
    </div>

    <button type="submit" 
                   class="btn btn-primary g-recaptcha" 
                   data-sitekey="6LdzYgoaAAAAAKME3EERU7Amf5qFVE_SF0uXFKTw" 
                   data-callback='onSubmit' 
                   data-action='submit'>
    Изпрати</button>
</form>

@section Scripts{ 
    <script>
        function onSubmit(token) {
            document.getElementById("contactForm").submit();
        }
    </script>
}